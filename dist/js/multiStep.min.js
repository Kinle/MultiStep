!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,s){return t||(t=window),s||(s="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(s,t,t.document)}:e(jQuery,window,document)}(0,function(t,e,s){"use strict";var n={data:[],final:"Are you sure you want to finalize with selected options?"},i=function(e,s){var i=this;this.id=null,this.element=e,this.options=t.extend({},n,s),this.destroy=function(){console.log("destroying "+i.id)},this.init()};i.prototype={constructor:i,init:function(){this._buildMultiStep()},update:function(e){this.options=t.extend({},this.options,e),this._buildDataContent(),this._initialModal()},_buildMultiStep:function(){var t=this.element,e=t.attr("id");e&&""!=e.trim()||(e=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)),t.attr("id",e)),this.id=e,t.addClass("multi-step");var s=t.find(".modal-header");this.header=s,s.append('<div class="modal-steps"></div>');var n=s.find(".modal-steps");this.modalSteps=n;var i=t.find(".modal-body");this.body=i;var a=t.find(".modal-footer");this.footer=a,this._buildDataContent(),this._buildFooterContent(),this._attachEvents(),this._initialModal()},_buildDataContent:function(){var t=this.options.data;if(t&&t.length>0){var e="",s="";for(var n in this.data=t,this.stepsCount=t.length,t){var i=Number(n)+1,a=t[n].label?t[n].label:`Step ${i}`;e+=`<div class="step" data-step="${i}" data-step-skip=${1==t[n].skip}>\n                                <div class="dot"></div>\n                                <label class="label">${a}</label>\n                                </div>`,s+=`<div class="step-content" data-step="${i}" data-step-skip=${1==t[n].skip}>\n                                       <div class="content-inner">${t[n].content}</div>\n                                       </div>`}e+=`<div class="step" data-step="${t.length+1}" data-step-skip=false>\n                                <div class="dot"></div>\n                                <label class="label">Complete</label>\n                                </div>`,s+=`<div class="step-content" data-step="${t.length+1}" data-step-skip=false>\n                                       <div class="content-inner">${this.options.final}</div>\n                                       </div>`,this.modalSteps.html(e),s=`<div class="step-content-container">${s}</div>`,this.body.html(s),this.stepContentContainer=this.body.find(".step-content-container")}},_buildFooterContent:function(){this.footer.html('<button type="button" class="btn btn-sm btn-prev">Previous</button>\n            <button type="button" class="btn btn-sm btn-skip">Skip</button>\n            <button type="button" class="btn btn-sm btn-next">Next</button>'),this.prev=this.footer.find(".btn-prev"),this.skip=this.footer.find(".btn-skip"),this.next=this.footer.find(".btn-next")},_attachEvents:function(){this._attachPrevEvent(),this._attachSkipEvent(),this._attachNextEvent()},_attachPrevEvent:function(){var t=this;t.prev.click(function(){t.next.text("Next");var e=t.currentStepIdx-1;e<=1?(e=1,t.prev.addClass("disabled").attr("disabled","disabled")):t.prev.removeClass("disabled").removeAttr("disabled"),t._currentStep(e),t._checkSkip(),t._showContent(e)})},_checkSkip:function(){"true"==this.modalSteps.find(".current").attr("data-step-skip")?this.skip.addClass("skippable"):this.skip.removeClass("skippable")},_attachSkipEvent:function(){var t=this;t.skip.click(function(){var e=t.currentStepIdx;e+1<=1?t.prev.addClass("disabled").attr("disabled","disabled"):t.prev.removeClass("disabled").removeAttr("disabled"),t._skipStep(e),t._showContent(e+1)})},_attachNextEvent:function(){var t=this;t.next.click(function(){var e=t.currentStepIdx;e>=t.stepsCount+1?t.element.modal("hide"):(e>=t.stepsCount?t.next.text("Finish"):t.next.text("Next"),e+1<=1?t.prev.addClass("disabled").attr("disabled","disabled"):t.prev.removeClass("disabled").removeAttr("disabled"),t._completeStep(e),t._showContent(e+1))})},_currentStep:function(t){var e=this.modalSteps.find("[data-step]").length;this._recursiveCurrentStep(t,e),this.currentStepIdx=t},_showContent:function(t){this.stepContentContainer&&(this.stepContentContainer.find(".step-content").removeClass("active"),this.stepContentContainer.find(`[data-step="${t}"]`).addClass("active"))},_recursiveCurrentStep:function(t,e){if(!(e<1)){var s=this.modalSteps.find(`[data-step="${e}"]`),n=this;t==e?(s.removeClasses(["completed","skipped"]).addClass("current"),n._checkSkip()):s.hasAnyClass(["completed","current","skipped"])?(s.removeClasses(["completed","current","skipped"]),setTimeout(function(){n._recursiveCurrentStep(t,--e)},200)):n._recursiveCurrentStep(t,--e)}},_completeStep:function(t){var e=this;this.modalSteps.find(`[data-step="${t}"]`).addClass("completed").removeClasses(["current","skipped"]),setTimeout(function(){e.modalSteps.find(`[data-step="${Number(t)+1}"]`).addClass("current"),e.currentStepIdx=Number(t)+1,e._checkSkip()},200)},_skipStep:function(t){var e=this;this.modalSteps.find(`[data-step="${t}"]`).addClass("skipped").removeClasses(["current","completed"]),setTimeout(function(){e.modalSteps.find(`[data-step="${Number(t)+1}"]`).addClass("current"),e.currentStepIdx=Number(t)+1,e._checkSkip()},200)},_initialModal:function(){this._currentStep(1),this.prev.addClass("disabled").attr("disabled","disabled"),this._checkSkip(),this._showContent(1),this.next.text("Next")},_renderStep:function(){}},t.fn.MultiStep=function(e,s){return"object"==typeof e&&(e=t.extend(!0,{},n,e)),this.each(function(){var n=t(this);if(n.data("multiStep")||e&&"object"!=typeof e){if(n.data("multiStep"))if("string"==typeof e){var a=e,d=s;n.data("multiStep")[a].call(d)}else n.data("multiStep").update(e)}else n.data("multiStep",new i(n,e))}),"function"==typeof s&&s.call(this.element),this},t.fn.MultiStep.defaults=n,t.fn.MultiStep.multiStep=i,t(document).ready(function(){t(".modal").MultiStep()})}),$.fn.removeClasses=function(t){"string"==typeof t&&(t=[t]);for(var e=t.length-1;e>=0;e--){var s=t[e];this.removeClass(s)}return this},$.fn.addClasses=function(t){"string"==typeof t&&(t=[t]);for(var e=t.length-1;e>=0;e--){var s=t[e];this.addClass(s)}return this},$.fn.hasAnyClass=function(t){"string"==typeof t&&(t=[t]);for(var e=t.length-1;e>=0;e--){var s=t[e];if(this.hasClass(s))return!0}return!1};